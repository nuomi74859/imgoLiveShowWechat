!function(bodyStyle,$){$.fn.canvasGame=function(options){"use strict";function layer(ctx){ctx.fillStyle="gray",ctx.fillRect(0,0,w,h)}function eventDown(e){e.preventDefault(),mousedown=!0}function eventUp(e){e.preventDefault(),mousedown=!1}function eventMove(e){if(e.preventDefault(),e=e.originalEvent,mousedown){e.changedTouches&&(e=e.changedTouches[e.changedTouches.length-1]);var x=(e.clientX+document.body.scrollLeft||e.pageX)-offsetX||0,y=(e.clientY+document.body.scrollTop||e.pageY)-offsetY||0;ctx.beginPath(),ctx.arc(x,y,20,0,2*Math.PI),ctx.fill()}}var self=this,opt=$.extend({info:"没有中奖",percent:.5},options);if(bodyStyle.mozUserSelect="none",bodyStyle.webkitUserSelect="none",self.data("imgo-options")){var info=self.data("imgo-options").info;info&&(opt.info=info)}self.append($("<p>").text(opt.info)),self.append("<canvas></canvas>"),console.log(self.data());var canvas=self.children("canvas").get(0),$canvas=self.children("canvas");canvas.style.backgroundColor="transparent";var ctx,w=self.width(),h=self.height(),mousedown=!1;canvas.width=w,canvas.height=h,ctx=canvas.getContext("2d"),ctx.fillStyle="transparent",layer(ctx);var offsetX=$canvas.offset().left,offsetY=$canvas.offset().top;return ctx.globalCompositeOperation="destination-out",$canvas.on({touchstart:eventDown,touchend:eventUp,touchmove:eventMove,mousedown:eventDown,mouseup:eventUp,mousemove:eventMove}),self};var canvasGame='[data-imgo-plugin="canvasGame"]';$(window).on("load",function(){$(canvasGame).each(function(){$canvasGame=$(this),$canvasGame.canvasGame()})})}(document.body.style,window.jQuery);
//# sourceMappingURL=imgoLiveShowWechat.min.js.map